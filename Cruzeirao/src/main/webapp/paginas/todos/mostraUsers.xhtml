<ui:composition template="/paginas/cadastros/layoutPrincipal.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui2="http://java.sun.com/jsf/facelets"
>

	<ui:define name="title">
		<h:outputText value="#{msg['paginas.todos.mostraUsers.titulo']}" />
	</ui:define>

	<ui:define name="principal">
		  <h:form id="formTabelaUsers">
			  <p:dataTable id="tabelaUser" var="user" value="#{UserMB.usuarios}" 
			  			   emptyMessage="#{msg['paginas.todos.mostraUsers.vazio']}"
			  			   style="border: solid 2px black;">  
		        
		        <f:facet name="header">
		        	Usu√°rios
		        </f:facet>
		        
		        <p:column headerText="#{msg['paginas.todos.mostraUsers.nome']}" >
		        	<p:outputLabel value="#{user.nome}" />
		      	</p:column>
		      	
		      	<p:column style="width:32px;text-align: center">
	            	<p:commandButton update="formTabelaUsers" oncomplete="PF('userDialog').show()" icon="ui-icon-search" title="Detalhes">
	                	<f:setPropertyActionListener value="#{user}" target="#{UserMB.userSelecionado}" />
	            	</p:commandButton>
       			</p:column>
       			
       			
       			<p:column style="width:32px;text-align: center"> 
					<p:commandButton id="remover" styleClass="ui-icon-trash"
						style="text-align:center"
						actionListener="#{UserMB.remover(user)}"
						update="tabelaUser" />
	  			</p:column>
    		</p:dataTable>
    		
    		<p:dialog header="Detalhes" widgetVar="userDialog" resizable="false">
		       
		            <p:panelGrid  columns="2" columnClasses="1,2">
		            
			            <h:outputText value="Sexo:" />
			            <h:outputText value="#{UserMB.userSelecionado.sexo}" />
				      	
				      	<h:outputText value="Tipo:" />
			            <h:outputText value="#{UserMB.userSelecionado.tipo}" />
			            
			            <h:outputText value="Login:" />
			            <h:outputText value="#{UserMB.userSelecionado.username}" />
			            
			            <h:outputText value="CPF:" />
			            <h:outputText value="#{UserMB.userSelecionado.cpf}" />
			            
			            <h:outputText value="Nascimento:" />
			            <h:outputText value="#{UserMB.userSelecionado.dataNascimento.time}" />
				      		    	
					</p:panelGrid>
    		</p:dialog>
    		
	   	</h:form>
	</ui:define>
</ui:composition>